"use strict";(self["webpackChunkmaoyan"]=self["webpackChunkmaoyan"]||[]).push([[188],{9188:function(t,a,e){e.r(a),e.d(a,{default:function(){return u}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"BookDetails"},[e("van-nav-bar",{attrs:{title:"","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("div",{staticClass:"detail"},[e("div",{staticClass:"detail-box"},[e("img",{staticClass:"auto-img",attrs:{src:t.DetaImg,alt:""}})]),e("div",{staticClass:"detail-content"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.DetailsData.title)+" ")]),e("div",{staticClass:"type"},[e("div",{staticClass:"type-t"},[t._v(" "+t._s(t.DetailsData["pris:book"].category)+" ")]),e("div",{staticClass:"s"},[t._v("|")]),e("div",{staticClass:"type-name"},[t._v(" "+t._s(t.DetailsData.author.name)+" ")])]),e("div",{staticClass:"score"},[e("van-rate",{attrs:{readonly:"",size:10,color:"#f8bd12","void-icon":"star","void-color":"#eee"},model:{value:t.rateValue,callback:function(a){t.rateValue=a},expression:"rateValue"}})],1),e("div",{staticClass:"count"},[e("div",{staticClass:"wordsCount"},[t._v(t._s(t.num))]),e("div",{staticClass:"clicksCount"},[t._v(" "+t._s(t.DetailsData["pris:subscribe"].clicksCount)+"点击 ")])]),e("div",{staticClass:"text-count"},[t._v(t._s(t.DetailsData["pris:book"].wprice)+"阅读点/千字")])])]),e("div",{staticClass:"text-content"},[t._v(" "+t._s(t.DetailsData.summary)+" ")]),e("div",{staticClass:"authorization"},[t._v("授权方:"),e("div",{staticClass:"auth"},[t._v(t._s(t.DetailsData["pris:book"].authorizer))])]),e("div",{staticClass:"zptype"},[t._v("作品类型:"+t._s(t.DetailsData["pris:book"].paydesc))]),e("van-divider",{style:{padding:"0 10px"}}),e("div",{staticClass:"catalogue",on:{click:t.gitSkipCat}},[e("div",{staticClass:"catalogue-box"},[t._m(0),e("div",{staticClass:"catalogue-title"},[e("div",{staticClass:"catalogue-date"},[t._v(t._s(t.timeDate[0]+"月"+t.timeDate[1]+"日"))]),e("div",{staticClass:"catalogue-new"},[t._v("更至:"+t._s(t.newWordsData))])]),e("div",{staticClass:"state"},[t._v("连载中"),e("van-icon",{attrs:{name:"arrow"}})],1)])])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"catalogue-img"},[s("img",{staticClass:"auto-img",attrs:{src:e(9295),alt:""}})])}],n=e(6198),r=(e(8975),e(9653),e(6977),e(9254),e(4916),e(3123),e(561),{name:"BookDetails",data:function(){return{rateValue:"",DetailsId:"",DetaImg:"",DetailsData:[],DetailsTitle:"",timeDate:"",num:0,newWordsData:[]}},created:function(){this.DetailsTitle=this.$route.params.title,this.DetailsId=this.$route.params.id,this.getDetailsData(),this.getNewWords()},methods:{onClickLeft:function(){this.$router.go(-1)},gitSkipCat:function(){this.$router.push({name:"BookCatalogue",params:{id:this.DetailsId}})},getWords:function(){return this.num=Number(this.DetailsData["pris:book"].words),0==this.num||this.num>1&&this.num<1e4?this.num+"":this.num=Math.round(this.num/1e4).toFixed(1)+"万"},getDetailsData:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.get("https://apis.netstart.cn/yunyuedu/book/getsub.json?id="+t.DetailsId+"&title="+t.DetailsTitle).then((function(a){console.log(a),t.DetailsData=a.feed.entry,t.DetaImg=t.DetailsData.link[1].href,t.rateValue=parseInt(t.DetailsData["pris:ranking"].value),t.timeDate=t.DetailsData["pris:book"].updated,t.timeDate=t.timeDate.split("T"),t.timeDate=t.timeDate[0].split("-").splice(1,2),t.getWords()})).catch((function(t){console.log(t)}));case 2:case"end":return a.stop()}}),a)})))()},getNewWords:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.get("https://apis.netstart.cn/yunyuedu/book/simpleInfo.json?id="+t.DetailsId).then((function(a){t.newWordsData=a.item.latestArticleTitle})).catch((function(t){console.log(t)}));case 2:case"end":return a.stop()}}),a)})))()}}}),o=r,l=e(1001),c=(0,l.Z)(o,s,i,!1,null,"4c5e28a3",null),u=c.exports},9254:function(t,a,e){var s=e(2109),i=e(4230),n=e(3429);s({target:"String",proto:!0,forced:n("link")},{link:function(t){return i(this,"a","href",t)}})},9295:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWxJREFUWEftVrFKxEAUnNeJrdjZW+xuvsBCEOwEsRAsRFIJWoginCLonYLY+AFqYbCwEUGwEwQLv+D2bWEv+AsKwpOFRJIcgUsiXrPpkn2TGWZ5wxBG/NCI+REEFBwwxixaax/+81p+BRhjbkVkBcApMx94EcaYHRE5ATBeEvVeQ+RUeVZEEudc7L/nBSQisgagy8w9f6iU2iSiIwCTuZ+81SDPRqdzmG8AV8y8URDgX7TW88z81ICgMSRsQXAgOFBwQGvtM6DbeKcaAPNBxCKiAJwz824aRD0iOqz47+cQfGMVM3fMvFwIIq31DYBVEYmdc0kaxbGIdABkSfY6BGnVyEx68AHgOov78hXMMvNLC5La0LAFwYHgQMGBKIrm+v3+c+1dagEY6IREtG+tPUuTcJuIfD+c+MNK9gXggpm3ykl4D2DJd0Br7XGahHsi4jthOVLbltJL59z6QCdUSi045x5bOFobGrYgOPADPox7IZek6vMAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=188-legacy.5f7c5c3e.js.map