"use strict";(self["webpackChunkdouguo"]=self["webpackChunkdouguo"]||[]).push([[531],{5531:function(t,s,i){i.r(s),i.d(s,{default:function(){return n}});var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"search"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"back",on:{click:t.back}},[a("van-icon",{attrs:{name:"arrow-left"}})],1),a("div",{staticClass:"search-box"},[a("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{input:t.getSuggestsData},model:{value:t.value,callback:function(s){t.value=s},expression:"value"}})],1),a("div",{staticClass:"btn",on:{click:t.getSearchData}},[t._v("搜索")])]),t.value?a("div",{staticClass:"suggests",class:{hide:t.ishide}},t._l(t.suggests,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(i){return t.getKeyword(s.name)}}},[a("div",{staticClass:"name"},[t._v(t._s(s.name))]),s.tag?a("div",{staticClass:"tag",style:{backgroundColor:s.tag.background_color,borderColor:s.tag.border_color,color:s.tag.text_color}},[t._v(" "+t._s(s.tag.name)+" ")]):a("div",{staticClass:"tag"})])})),0):a("div",{staticClass:"hot-search"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.localSearchHistory.length,expression:"localSearchHistory.length"}],staticClass:"history-search-box"},[a("div",{staticClass:"top"},[a("div",{staticClass:"title"},[t._v("历史搜索")]),a("div",{staticClass:"del",on:{click:t.clearHotSearch}},[a("img",{staticClass:"auto-img",attrs:{src:i(6315),alt:""}})])]),a("div",{staticClass:"list"},t._l(t.localSearchHistory,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(i){return t.getKeyword(s.name)}}},[t._v(" "+t._s(s.name)+" ")])})),0)]),a("div",{staticClass:"hot-search-box"},[a("div",{staticClass:"title"},[t._v("热门搜索")]),a("div",{staticClass:"list"},t._l(t.hotSearchData,(function(s,i){return a("div",{key:i,staticClass:"item",style:{backgroundColor:"#ededed",color:s.color},on:{click:function(i){return t.getKeyword(s.title)}}},[t._v(" "+t._s(s.title)+" ")])})),0)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.ishide,expression:"ishide"}],staticClass:"search-detail"},[a("van-tabs",{attrs:{animated:""},model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},[a("van-tab",{attrs:{title:t.tabs[0].title}},[a("div",{staticClass:"tabs-box"},[a("van-tabs",{staticClass:"tabs",on:{click:function(s){return t.click(t.activeIndex)}},model:{value:t.activeIndex,callback:function(s){t.activeIndex=s},expression:"activeIndex"}},t._l(t.tab,(function(s,i){return a("van-tab",{key:i,staticClass:"tab",class:{tabActive:t.activeIndex===i},attrs:{title:s.title}})})),1),a("div",{staticClass:"video-box"},[a("div",{staticClass:"title",class:{active:t.isatcive},on:{click:t.video}},[t._v(" 视频 ")]),a("div",{staticClass:"video-img"},[a("img",{staticClass:"auto-img",attrs:{src:i(3577),alt:""}})])])],1),t._l(t.list,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(i){return t.getDetail(s.r.id)}}},[a("div",{staticClass:"left"},[a("img",{staticClass:"auto-img",attrs:{src:s.r.img,alt:""}})]),a("div",{staticClass:"right"},[a("div",{staticClass:"name"},[t._v(t._s(s.r.n))]),a("div",{directives:[{name:"show",rawName:"v-show",value:0!=s.r.rate,expression:"listItem.r.rate != 0"}],staticClass:"rate"},[t._v(" "+t._s(s.r.rate)+"分 ")]),a("div",{staticClass:"content-detail"},[t._v("内容详细")]),a("div",{staticClass:"user"},[a("div",{staticClass:"userimg"},[a("img",{staticClass:"auto-img",attrs:{src:s.r.a.p,alt:""}})]),a("div",{staticClass:"username"},[t._v(t._s(s.r.a.n))])])])])}))],2),a("van-tab",{attrs:{title:t.tabs[1].title}},[t._v(t._s(t.tabs[1].title))]),a("van-tab",{attrs:{title:t.tabs[2].title}},[t._v(t._s(t.tabs[2].title))]),a("van-tab",{attrs:{title:t.tabs[3].title}},[t._v(t._s(t.tabs[3].title))]),a("van-tab",{attrs:{title:t.tabs[4].title}},[t._v(t._s(t.tabs[4].title))])],1)],1),t._l(t.videoList,(function(s,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.isVideo,expression:"isVideo"}],key:i,staticClass:"videoBox",on:{click:function(i){return t.getDetail(s.r.id)}}},[a("div",{staticClass:"userinfo"},[a("div",{staticClass:"headimg"},[a("img",{staticClass:"auto-img",attrs:{src:s.r.a.p,alt:""}})]),a("div",{staticClass:"name"},[t._v(t._s(s.r.a.n))]),a("div",{staticClass:"lv"},[t._v("lv"+t._s(s.r.a.lvl))])]),a("div",{staticClass:"video-box"},[a("img",{staticClass:"auto-img",attrs:{src:s.r.img}}),t._m(0,!0)]),a("div",{staticClass:"title"},[t._v(t._s(s.r.n))])])}))],2)},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"img-box"},[a("img",{staticClass:"auto-img",attrs:{src:i(6731),alt:""}})])}],r=(i(1539),i(4747),i(8309),i(561),i(8862),{name:"Search",data:function(){return{activeIndex:0,active:0,order:0,type:0,offset:0,limit:20,value:"",keyword:"",hotSearchData:[],suggests:[],videoList:[],localSearchHistory:[],tabs:[{title:"菜谱"},{title:"笔记"},{title:"用户"},{title:"商品"},{title:"课堂"}],tab:[{title:"综合"},{title:"收藏高"},{title:"学做多"}],list:[],ishide:!1,isVideo:!1,isatcive:!1}},created:function(){var t=this;this.getHotSearch(),this.value=this.$route.query.value,this.value&&this.axios({method:"get",url:"https://apis.netstart.cn/douguo/recipe/search?keyword="+this.value+"&order="+this.order+"&type="+this.type+"&secondary_keyword="+this.keyword+"&offset="+this.offset+"&limit="+this.limit}).then((function(s){t.list=[],s.data.result.list.forEach((function(s){13===s.type&&(t.list.push(s),t.ishide=!0)}))})).catch((function(t){})),this.localSearchHistory=localStorage.getItem("searchHistory"),this.localSearchHistory=JSON.parse(this.localSearchHistory),this.localSearchHistory||(this.localSearchHistory=[])},methods:{back:function(){this.$router.push({name:"Home"})},clearHotSearch:function(){localStorage.removeItem("searchHistory"),this.localSearchHistory=[]},getHotSearch:function(){var t=this;this.axios({method:"get",url:"https://apis.netstart.cn/douguo/recipe/search/hot"}).then((function(s){200===s.status&&(t.hotSearchData=s.data.result.suggestdetails)})).catch((function(t){}))},getSuggestsData:function(){var t=this;this.axios({method:"get",url:"https://apis.netstart.cn/douguo/recipe/search/suggests?kw="+this.value}).then((function(s){200===s.status&&(t.suggests=s.data.result.suggests),""===t.value&&(t.ishide=!1)})).catch((function(t){}))},getSearchData:function(){var t=this;this.axios({method:"get",url:"https://apis.netstart.cn/douguo/recipe/search?keyword="+this.value+"&order="+this.order+"&type="+this.type+"&secondary_keyword="+this.keyword+"&offset="+this.offset+"&limit="+this.limit}).then((function(s){t.list=[],s.data.result.list.forEach((function(s){13===s.type&&(t.list.push(s),t.ishide=!0)}))})).catch((function(t){}));for(var s=0;s<this.localSearchHistory.length;s++)if(this.localSearchHistory[s].name===this.value)return;10===this.localSearchHistory.length&&this.localSearchHistory.splice(0,1),this.localSearchHistory.push({name:this.value}),localStorage.setItem("searchHistory",JSON.stringify(this.localSearchHistory))},click:function(t){this.order=t,this.activeIndex=t,this.isatcive=!1,this.isVideo=!1,this.list=[],this.getSearchData()},video:function(){var t=this;this.isatcive=!this.isatcive,this.list=[],this.ishide=!0,this.isVideo=!0,this.type=1,this.activeIndex=-1,this.axios({method:"get",url:"https://apis.netstart.cn/douguo/recipe/search?keyword="+this.value+"&type="+this.type+"&offset="+this.offset+"&limit="+this.limit}).then((function(s){t.videoList=[],200===s.status&&s.data.result.list.forEach((function(s){13===s.type&&t.videoList.push(s)}))})).catch((function(t){}))},getDetail:function(t){this.$router.push({name:"Detail",params:{id:t}})},getKeyword:function(t){this.value=t,this.getSearchData()}}}),c=r,o=i(1001),l=(0,o.Z)(c,a,e,!1,null,"cfe2430c",null),n=l.exports},6315:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA09JREFUWEfFl02oVVUUx/+bg05OijjQyIlKAxVFEEMhEBVBB2oETwMblJCYvoEib/83V4V3g/Ry1n5iTrJIUAdFWBJJgRGkYAM/ahCpIEg2sdKJ38P7VuzHvo/7rufee855iHt2z/mvtX93fe19DF7yMi95fxQGyLKsbowZLgKsqh855+pFtIUBROQCgNVFnAK4SHJNEW1pgGaz2dNxkiQB9MUC1Gq1i3n/rtForJ4UQMzzUgAzuoQvpCB38zZ9L81DVf2jvT4mpEBE7gJ4rUjuJqH5h+Scln0nwEkA70/CeRHTUyS35wKEhyMjI4uazebbxpiPw+9+Rddvx1gTUNWDSZJ8NzQ0dLPdJrcLvPc7VfWzCDCzVqs96LdR3vvh4eHpaZo+Cu+MMR9aaz/v1OUCZFk2YIz5JohVdYFz7lYVgEajMTdJkjvRzxbn3LdFAdYYY36J4lUkL7UMY6e8R3JeuzMRuaOqp9srXESWAfg9Aqx1zoUZMWF1S8FiVf0zKgdInm1ZiYhGh+Pjtn1Mkxz36b1fp6o/xxQssdZeLwowS1XvRfFukserAIjIOwC+jgCzrbX3CwEEkYg8BjCt82ApEwER2QXgUwBPSE7Pq6OuZ0HIKYC5AI6T3F0lAt77A6oa2vnvzppp+esFcA3AcgBnSQ5UAciy7IgxZh+A30i+USoC3vvzqroewCWSq6oAiMjYZDXG/GSt3VAKQES+BLANwC2SCyoCnAOwCcBXJN8tC/AJgD0AHpCcWRHgVwBvAjhGcm9ZgP0ADgWjNE2nDQ4OPo3dUXgOiEiY+wsBHCB5uCzABwC+iD0831o7NlJbR3Z7e7YNoglHrYj8B2A2gB0kT5QCyLJsszHm+zj1VjjnrkaAjar6unMupGh8ZVm21xhzm+QP4WG9Xp+apulTVZ2iqm8550I9PLe6tqH3foWqXo4R2Git/THPQbdnIvIqgH+j/Upr7ZWyAPNU9a9otJ3kqTIA4V4xOjp6ozOFnT56RSBV1bHCU1U653wZABEJ1R+6INwFXrHWPisVgSD23p9T1dDHk1k3SC7u5qDnd4GIhPvh0R635CJgR0mGcZy7+n6YxDvi1iI7dWqSJDnTeQcsXANVNqxi0zcCVZyWsfkf48LRMKYPrB4AAAAASUVORK5CYII="},6731:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAgJJREFUWEfNlz1rFFEUht8zWLloUCPYiB9dBEG7NAlY2SkKKop/QCHt2ZVYrJDA3rNbRVB/QTARBEWwFW2sktLORC0TCRG0nDfcZUbuJvtxE7Lcvd0w57znYeZ8XUHkaTQaYyJyQ0RukrwoIuMAThXuv0luish3ku9Ivq/Vatsx0jLIyDk3ISIzAB4AGBtkX7z3wRdJPq9Wq9/6+fQFcM7NZVk2Q/J4ZOAOMxH5k+e5h3jay78ngJktA7hzkMBdfN6o6t1uWl0BzGwNwPlDCl7KrKvqhd2aewDMbAOAT7BhnE1VPR0KdwCY2WcAU8OIHGh+UdXp8vk/gE84EZkdcvC2PMn5MjHbAL7Usiz7etBs3y90UR2TvkTbAGb2AsCjGCGSz4q+cDLGvo/NS1V9LM65YyLyA8CJCMFPqnqt1WpdyvP8CYCHET69TLZInpNms3mL5NtIoTZAaWtm9wF4kMuR/rsb1W0xs9cA7kUKdAAEIA6ARmqEZkv+F6yIyNVI564A3rderx+pVCofSF6P1PLVsOq/wE8AZyOdegIEX+MKgI8AzkRo/vIAfwEcjTD2JgMBApAFAH6K9jv/RgIg7S8YhSRMW4bJG1HyVrzfYQTgFQC/Xh3OMBqJcVxApFtIgu6VbiULINItpQFEurU8gEh3MSkhkl7NAoh0l9NwkA/rer4DCuw36MeeQigAAAAASUVORK5CYIIB6PIgcqvVamFgYMBuAqhvo3cAlqcmpHV1FAN4wBi74Ok33YaO44xIKZ9GzUKX/YOMsY8tAfRH27YfKaXOdukkyLxp9KuWQH8olUp96XRa53DZJCGUUp855zv8mi1Tsnp0zyQJwBhr6SswKV1YWMi7rvsEgL7xumnPGWPHggRC03IhxDoAOjk91yHBQ8bY+TDbyMJEG+tENZVK6eLkaIwLq0pEL2q12ngul3sdBR4LwBNpKM/0Xa7LMi9QHV2eAZhupyxruQuiiJPub2sGknau9f4C5OIzMMWJLOgAAAAASUVORK5CYIIWeQETqyAX+3UAngWgBhwjoj7n3GtTVNMRZq6H4DkALxPRHc65fW2U4W1E9AwAHVpnAWxOlWtICyndFz5WXmbuGcsBY0w3EWm2bmVmtaaQMg+EEFaXSqUNmbtF5D1tYt77r5qFUM+sta8AeJyIVjjndteHkTHmMBHNiaLo+mq1eqJB7D4HcEPubJCINjvndk6lWM+TJJkTQjgM4OKOjo7LBwYGTtYBxHG8VkS0g21h5ieKBOoUJKKnAMwGcCSKor52NmFrbT+A9UTU65zT0P07jlP3HNWNl4hWOud2tWJVqzzGmOVEtBvAd7VabfHw8PBvRQC0k72pByJy9fmsYgW1/6u6XkTWeO93ZOfNVrL/BEQ6gj8DsFhEdnjv1+TBFS6lueVEeQu7WSuuj+P4Lm3HusAA2MvMuiGPo2Zr+RIi2qmXReSgJqf3/v1WFCdJskBE1ovIP1sP0aPOucIR3fRhkiSJDSE8D2BVqlifXge17kul0skzZ86cKpfLQkTZy+hWEbmJiG5M+Q9FUdRbrVYLx/KkJGxknTFmVVp+81vxAIAftaS99/qyakpTvg3zt621us3oYjpfRGYR0djrWERGiGgEwDe6rDrntNW2RG0BaElim0x/A1IrRyIF6jAUAAAAAElFTkSuQmCC"},3577:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAAAXNSR0IArs4c6QAAA+VJREFUWEe9l0tonFUUx//nMuaxUXEjFdRNqHTuucmUqRtfWEQRqiBKFJEuikorVjIVwYWvSFVwobFGg/FNUSkWHxXx0Y0PSrFgaMw9d6x00YVLMT4WYpLhO3LDN/HrdOb7Ztok33K+c/7n95259zwIPTzW2q1EtAfArTluLyRJ8n69Xj/erTQVGQ4NDZ0/ODhYU9UY/BMAB0TkcCc/Zt4O4DoAVwJ4WUTeLoqRC+Gc262qDwKYEpHJIrHs+2q1et7CwsIYgFtUdTKE8FEn/44QzrmDAH703j/fS/BWW2a+GMAkEf3ivX+inVZbCGb+NWYghPDZuQBkfa2100RUEpF7WzXPgLDWngLwQAjhq9UCaOow87iqbggh7MxqnwbBzB8CqIvI+GoDZED2E9Hf3vvdzd9WIJj5GQCNtQRoBnXOHVLVQ82bswzBzFcB+LK/v3/DzMzMP3lZiCkF8FRq8zUR1bz3J3rJnLX2aiI6KCKXRL8mhCeiV7z303li1tohIjopIst+zrkJVa0R0YT3/uFeQNJsnBKRGlUqlQsbjca8iJgiEefcqKqOisidTdsU7FUAN6nq/SGEN4t04ntrbYWIjolIPznndqrqZhHZVeTcDiIDczMRvQGgBOAOETlapMfMfy0tLW0iZj5KRA9572eKnPIgMocuVtlYXb8rlUq3zc7O/tlJ1zm3N0mSkxFCm//xakBkruJLAGLZnu6UZWa+EcDWNYPIwHwOYJuqVkIIP2U/lJk3xca45hBpCYjnbYuI3JeFiB16YGDgnXWBSG/QfhGJ9WjlWVeIeO5UdUcI4d11/zuYeQGAB7BdRH5uPfjZg3ncGLNrbm7u2GrdDmaOo93GNPjHhVfUWrvHGLPFe3/PuUI45z5Q1bsBPCYizxXprRQra+1FRPR7N7WiU7Gy1j5ORHsBvKeqYyGE+SKAcrm82Rjzw3LZTq/QCVUdDyEcyHMeHh6+IkmSwyJyeep3O4AJAL8lSVKr1+tHioJnKmts57EZPrIMEVurMWayr6/vmi5a+TcArgeQAPg3rgDe+9e7Dd6Md0YrT79qH4A/uhlqRkZGNjYajVIIod5L8JYsnD7UNF9aa7+Pe0UIYepsxLvxSUfIICJPN+3bDrpEtENEvu1GtBebdAgabG1onUb+uXThea2XIHm2zPwsgIqIbGu1y11+VGOX/z9tZwPEzJcCeJKI5r33j7bTyF0DrbVxfrxLVfcVXd9WcWttnzEmbm9VAC967z/t9BGFC3G1Wr1gcXFxTFWvBRAAfNHFQjwK4LK4/onIW0UZLITICpTL5RuMMXF7ikHaPqoaa8ZU6wCTB/IfZRskx1y4taMAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=531-legacy.3e79a454.js.map