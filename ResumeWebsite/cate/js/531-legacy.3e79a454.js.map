{"version":3,"file":"js/531-legacy.3e79a454.js","mappings":"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","sources":["webpack://douguo/./src/views/Search.vue?97f2","webpack://douguo/src/views/Search.vue","webpack://douguo/./src/views/Search.vue?5134","webpack://douguo/./src/views/Search.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"nav\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('van-icon',{attrs:{\"name\":\"arrow-left\"}})],1),_c('div',{staticClass:\"search-box\"},[_c('van-search',{attrs:{\"placeholder\":\"请输入搜索关键词\"},on:{\"input\":_vm.getSuggestsData},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.getSearchData}},[_vm._v(\"搜索\")])]),(_vm.value)?_c('div',{staticClass:\"suggests\",class:{ hide: _vm.ishide }},_vm._l((_vm.suggests),function(item,index){return _c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.getKeyword(item.name)}}},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))]),(item.tag)?_c('div',{staticClass:\"tag\",style:({\n          backgroundColor: item.tag.background_color,\n          borderColor: item.tag.border_color,\n          color: item.tag.text_color,\n        })},[_vm._v(\" \"+_vm._s(item.tag.name)+\" \")]):_c('div',{staticClass:\"tag\"})])}),0):_c('div',{staticClass:\"hot-search\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.localSearchHistory.length),expression:\"localSearchHistory.length\"}],staticClass:\"history-search-box\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"历史搜索\")]),_c('div',{staticClass:\"del\",on:{\"click\":_vm.clearHotSearch}},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":require(\"../assets/icon/del.png\"),\"alt\":\"\"}})])]),_c('div',{staticClass:\"list\"},_vm._l((_vm.localSearchHistory),function(item,index){return _c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.getKeyword(item.name)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)]),_c('div',{staticClass:\"hot-search-box\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_c('div',{staticClass:\"list\"},_vm._l((_vm.hotSearchData),function(item,index){return _c('div',{key:index,staticClass:\"item\",style:({ backgroundColor: '#ededed', color: item.color }),on:{\"click\":function($event){return _vm.getKeyword(item.title)}}},[_vm._v(\" \"+_vm._s(item.title)+\" \")])}),0)])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ishide),expression:\"ishide\"}],staticClass:\"search-detail\"},[_c('van-tabs',{attrs:{\"animated\":\"\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tab',{attrs:{\"title\":_vm.tabs[0].title}},[_c('div',{staticClass:\"tabs-box\"},[_c('van-tabs',{staticClass:\"tabs\",on:{\"click\":function($event){return _vm.click(_vm.activeIndex)}},model:{value:(_vm.activeIndex),callback:function ($$v) {_vm.activeIndex=$$v},expression:\"activeIndex\"}},_vm._l((_vm.tab),function(item,index){return _c('van-tab',{key:index,staticClass:\"tab\",class:{ tabActive: _vm.activeIndex === index },attrs:{\"title\":item.title}})}),1),_c('div',{staticClass:\"video-box\"},[_c('div',{staticClass:\"title\",class:{ active: _vm.isatcive },on:{\"click\":_vm.video}},[_vm._v(\" 视频 \")]),_c('div',{staticClass:\"video-img\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":require(\"../assets/icon/video.png\"),\"alt\":\"\"}})])])],1),_vm._l((_vm.list),function(listItem,listindex){return _c('div',{key:listindex,staticClass:\"item\",on:{\"click\":function($event){return _vm.getDetail(listItem.r.id)}}},[_c('div',{staticClass:\"left\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":listItem.r.img,\"alt\":\"\"}})]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(listItem.r.n))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(listItem.r.rate != 0),expression:\"listItem.r.rate != 0\"}],staticClass:\"rate\"},[_vm._v(\" \"+_vm._s(listItem.r.rate)+\"分 \")]),_c('div',{staticClass:\"content-detail\"},[_vm._v(\"内容详细\")]),_c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"userimg\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":listItem.r.a.p,\"alt\":\"\"}})]),_c('div',{staticClass:\"username\"},[_vm._v(_vm._s(listItem.r.a.n))])])])])})],2),_c('van-tab',{attrs:{\"title\":_vm.tabs[1].title}},[_vm._v(_vm._s(_vm.tabs[1].title))]),_c('van-tab',{attrs:{\"title\":_vm.tabs[2].title}},[_vm._v(_vm._s(_vm.tabs[2].title))]),_c('van-tab',{attrs:{\"title\":_vm.tabs[3].title}},[_vm._v(_vm._s(_vm.tabs[3].title))]),_c('van-tab',{attrs:{\"title\":_vm.tabs[4].title}},[_vm._v(_vm._s(_vm.tabs[4].title))])],1)],1),_vm._l((_vm.videoList),function(item,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isVideo),expression:\"isVideo\"}],key:index,staticClass:\"videoBox\",on:{\"click\":function($event){return _vm.getDetail(item.r.id)}}},[_c('div',{staticClass:\"userinfo\"},[_c('div',{staticClass:\"headimg\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.r.a.p,\"alt\":\"\"}})]),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.r.a.n))]),_c('div',{staticClass:\"lv\"},[_vm._v(\"lv\"+_vm._s(item.r.a.lvl))])]),_c('div',{staticClass:\"video-box\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.r.img}}),_vm._m(0,true)]),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.r.n))])])})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"img-box\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":require(\"../assets/icon/play.png\"),\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 搜索 -->\r\n  <div class=\"search\">\r\n    <!-- 导航条 -->\r\n    <div class=\"nav\">\r\n      <div class=\"back\" @click=\"back\">\r\n        <van-icon name=\"arrow-left\" />\r\n      </div>\r\n      <div class=\"search-box\">\r\n        <van-search\r\n          v-model=\"value\"\r\n          @input=\"getSuggestsData\"\r\n          placeholder=\"请输入搜索关键词\"\r\n        />\r\n      </div>\r\n      <div class=\"btn\" @click=\"getSearchData\">搜索</div>\r\n    </div>\r\n\r\n    <!-- 搜索下拉列表 -->\r\n    <div class=\"suggests\" :class=\"{ hide: ishide }\" v-if=\"value\">\r\n      <div\r\n        class=\"item\"\r\n        @click=\"getKeyword(item.name)\"\r\n        v-for=\"(item, index) in suggests\"\r\n        :key=\"index\"\r\n      >\r\n        <div class=\"name\">{{ item.name }}</div>\r\n        <div\r\n          class=\"tag\"\r\n          v-if=\"item.tag\"\r\n          :style=\"{\r\n            backgroundColor: item.tag.background_color,\r\n            borderColor: item.tag.border_color,\r\n            color: item.tag.text_color,\r\n          }\"\r\n        >\r\n          {{ item.tag.name }}\r\n        </div>\r\n        <div class=\"tag\" v-else></div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"hot-search\" v-else>\r\n      <!-- 历史搜索 -->\r\n      <div class=\"history-search-box\" v-show=\"localSearchHistory.length\">\r\n        <div class=\"top\">\r\n          <div class=\"title\">历史搜索</div>\r\n          <div class=\"del\" @click=\"clearHotSearch\">\r\n            <img class=\"auto-img\" src=\"../assets/icon/del.png\" alt=\"\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"list\">\r\n          <div\r\n            class=\"item\"\r\n            @click=\"getKeyword(item.name)\"\r\n            v-for=\"(item, index) in localSearchHistory\"\r\n            :key=\"index\"\r\n          >\r\n            {{ item.name }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 热门搜索 -->\r\n      <div class=\"hot-search-box\">\r\n        <div class=\"title\">热门搜索</div>\r\n        <div class=\"list\">\r\n          <div\r\n            class=\"item\"\r\n            @click=\"getKeyword(item.title)\"\r\n            v-for=\"(item, index) in hotSearchData\"\r\n            :style=\"{ backgroundColor: '#ededed', color: item.color }\"\r\n            :key=\"index\"\r\n          >\r\n            {{ item.title }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 搜索详情 -->\r\n    <div class=\"search-detail\" v-show=\"ishide\">\r\n      <!-- 菜谱 -->\r\n      <van-tabs v-model=\"active\" animated>\r\n        <van-tab :title=\"tabs[0].title\">\r\n          <div class=\"tabs-box\">\r\n            <van-tabs\r\n              class=\"tabs\"\r\n              @click=\"click(activeIndex)\"\r\n              v-model=\"activeIndex\"\r\n            >\r\n              <van-tab\r\n                class=\"tab\"\r\n                :class=\"{ tabActive: activeIndex === index }\"\r\n                v-for=\"(item, index) in tab\"\r\n                :key=\"index\"\r\n                :title=\"item.title\"\r\n              >\r\n              </van-tab>\r\n            </van-tabs>\r\n            <div class=\"video-box\">\r\n              <div class=\"title\" @click=\"video\" :class=\"{ active: isatcive }\">\r\n                视频\r\n              </div>\r\n              <div class=\"video-img\">\r\n                <img class=\"auto-img\" src=\"../assets/icon/video.png\" alt=\"\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"item\"\r\n            @click=\"getDetail(listItem.r.id)\"\r\n            v-for=\"(listItem, listindex) in list\"\r\n            :key=\"listindex\"\r\n          >\r\n            <div class=\"left\">\r\n              <img class=\"auto-img\" :src=\"listItem.r.img\" alt=\"\" />\r\n            </div>\r\n            <div class=\"right\">\r\n              <div class=\"name\">{{ listItem.r.n }}</div>\r\n              <div class=\"rate\" v-show=\"listItem.r.rate != 0\">\r\n                {{ listItem.r.rate }}分\r\n              </div>\r\n              <div class=\"content-detail\">内容详细</div>\r\n              <div class=\"user\">\r\n                <div class=\"userimg\">\r\n                  <img class=\"auto-img\" :src=\"listItem.r.a.p\" alt=\"\" />\r\n                </div>\r\n                <div class=\"username\">{{ listItem.r.a.n }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </van-tab>\r\n        <van-tab :title=\"tabs[1].title\">{{ tabs[1].title }}</van-tab>\r\n        <van-tab :title=\"tabs[2].title\">{{ tabs[2].title }}</van-tab>\r\n        <van-tab :title=\"tabs[3].title\">{{ tabs[3].title }}</van-tab>\r\n        <van-tab :title=\"tabs[4].title\">{{ tabs[4].title }}</van-tab>\r\n      </van-tabs>\r\n    </div>\r\n\r\n    <!-- 视频详情 -->\r\n    <div\r\n      class=\"videoBox\"\r\n      v-show=\"isVideo\"\r\n      @click=\"getDetail(item.r.id)\"\r\n      v-for=\"(item, index) in videoList\"\r\n      :key=\"index\"\r\n    >\r\n      <div class=\"userinfo\">\r\n        <div class=\"headimg\">\r\n          <img class=\"auto-img\" :src=\"item.r.a.p\" alt=\"\" />\r\n        </div>\r\n        <div class=\"name\">{{ item.r.a.n }}</div>\r\n        <div class=\"lv\">lv{{ item.r.a.lvl }}</div>\r\n      </div>\r\n      <div class=\"video-box\">\r\n        <img class=\"auto-img\" :src=\"item.r.img\" />\r\n        <div class=\"img-box\">\r\n          <img class=\"auto-img\" src=\"../assets/icon/play.png\" alt=\"\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"title\">{{ item.r.n }}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Search',\r\n  data() {\r\n    return {\r\n      activeIndex: 0,\r\n      active: 0,\r\n      order: 0,\r\n      type: 0,\r\n      offset: 0,\r\n      limit: 20,\r\n      value: '',\r\n      keyword: '',\r\n      hotSearchData: [],\r\n      suggests: [],\r\n      videoList: [],\r\n      localSearchHistory: [],\r\n      tabs: [\r\n        {\r\n          title: '菜谱',\r\n        },\r\n        {\r\n          title: '笔记',\r\n        },\r\n        {\r\n          title: '用户',\r\n        },\r\n        {\r\n          title: '商品',\r\n        },\r\n        {\r\n          title: '课堂',\r\n        },\r\n      ],\r\n      tab: [\r\n        {\r\n          title: '综合',\r\n        },\r\n        {\r\n          title: '收藏高',\r\n        },\r\n        {\r\n          title: '学做多',\r\n        },\r\n      ],\r\n      list: [],\r\n      ishide: false,\r\n      isVideo: false,\r\n      isatcive: false,\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.getHotSearch()\r\n\r\n    this.value = this.$route.query.value\r\n    if (this.value) {\r\n      this.axios({\r\n        method: 'get',\r\n        url:\r\n          'https://apis.netstart.cn/douguo/recipe/search?keyword=' +\r\n          this.value +\r\n          '&order=' +\r\n          this.order +\r\n          '&type=' +\r\n          this.type +\r\n          '&secondary_keyword=' +\r\n          this.keyword +\r\n          '&offset=' +\r\n          this.offset +\r\n          '&limit=' +\r\n          this.limit,\r\n      })\r\n        .then((result) => {\r\n          this.list = []\r\n          result.data.result.list.forEach((e) => {\r\n            if (e.type === 13) {\r\n              this.list.push(e)\r\n              this.ishide = true\r\n            }\r\n          })\r\n        })\r\n        .catch((err) => {})\r\n    }\r\n\r\n    this.localSearchHistory = localStorage.getItem('searchHistory')\r\n    this.localSearchHistory = JSON.parse(this.localSearchHistory)\r\n    if (!this.localSearchHistory) {\r\n      this.localSearchHistory = []\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    back() {\r\n      this.$router.push({ name: 'Home' })\r\n    },\r\n\r\n    clearHotSearch() {\r\n      localStorage.removeItem('searchHistory')\r\n      this.localSearchHistory = []\r\n    },\r\n    // 获取热门搜索数据\r\n    getHotSearch() {\r\n      this.axios({\r\n        method: 'get',\r\n        url: 'https://apis.netstart.cn/douguo/recipe/search/hot',\r\n      })\r\n        .then((result) => {\r\n          if (result.status === 200) {\r\n            this.hotSearchData = result.data.result.suggestdetails\r\n          }\r\n        })\r\n        .catch((err) => {})\r\n    },\r\n\r\n    // 获取搜索下拉列表数据\r\n    getSuggestsData() {\r\n      this.axios({\r\n        method: 'get',\r\n        url:\r\n          'https://apis.netstart.cn/douguo/recipe/search/suggests?kw=' +\r\n          this.value,\r\n      })\r\n        .then((result) => {\r\n          if (result.status === 200) {\r\n            this.suggests = result.data.result.suggests\r\n          }\r\n          if (this.value === '') {\r\n            this.ishide = false\r\n          }\r\n        })\r\n        .catch((err) => {})\r\n    },\r\n    // 搜索\r\n    getSearchData() {\r\n      this.axios({\r\n        method: 'get',\r\n        url:\r\n          'https://apis.netstart.cn/douguo/recipe/search?keyword=' +\r\n          this.value +\r\n          '&order=' +\r\n          this.order +\r\n          '&type=' +\r\n          this.type +\r\n          '&secondary_keyword=' +\r\n          this.keyword +\r\n          '&offset=' +\r\n          this.offset +\r\n          '&limit=' +\r\n          this.limit,\r\n      })\r\n        .then((result) => {\r\n          this.list = []\r\n          result.data.result.list.forEach((e) => {\r\n            if (e.type === 13) {\r\n              this.list.push(e)\r\n              this.ishide = true\r\n            }\r\n          })\r\n        })\r\n        .catch((err) => {})\r\n\r\n      //获取本地存储的搜索历史\r\n      //如果本地存储的搜索历史不存在, 初始化空数组\r\n\r\n      for (var i = 0; i < this.localSearchHistory.length; i++) {\r\n        if (this.localSearchHistory[i].name === this.value) {\r\n          //如果找到, 则终止执行\r\n          return\r\n        }\r\n      }\r\n\r\n      //判断搜索历史关键字是否超出10个, 移除第一个关键字\r\n      if (this.localSearchHistory.length === 10) {\r\n        this.localSearchHistory.splice(0, 1)\r\n      }\r\n\r\n      //记录当前的搜索历史, 保存到本地存储\r\n      this.localSearchHistory.push({\r\n        name: this.value,\r\n      })\r\n\r\n      localStorage.setItem(\r\n        'searchHistory',\r\n        JSON.stringify(this.localSearchHistory)\r\n      )\r\n    },\r\n    // 切换模式\r\n    click(index) {\r\n      this.order = index\r\n      this.activeIndex = index\r\n      this.isatcive = false\r\n      this.isVideo = false\r\n      this.list = []\r\n      this.getSearchData()\r\n    },\r\n    // 切换视频模式\r\n    video() {\r\n      this.isatcive = !this.isatcive\r\n      this.list = []\r\n      this.ishide = true\r\n      this.isVideo = true\r\n      this.type = 1\r\n      this.activeIndex = -1\r\n\r\n      this.axios({\r\n        method: 'get',\r\n        url:\r\n          'https://apis.netstart.cn/douguo/recipe/search?keyword=' +\r\n          this.value +\r\n          '&type=' +\r\n          this.type +\r\n          '&offset=' +\r\n          this.offset +\r\n          '&limit=' +\r\n          this.limit,\r\n      })\r\n        .then((result) => {\r\n          this.videoList = []\r\n\r\n          if (result.status === 200) {\r\n            result.data.result.list.forEach((e) => {\r\n              if (e.type === 13) {\r\n                this.videoList.push(e)\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((err) => {})\r\n    },\r\n\r\n    // 跳转详情\r\n    getDetail(id) {\r\n      this.$router.push({ name: 'Detail', params: { id } })\r\n    },\r\n\r\n    // 获取下拉列表关键字\r\n    getKeyword(value) {\r\n      this.value = value\r\n      this.getSearchData()\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/deep/ .van-search {\r\n  padding: 0px;\r\n}\r\n\r\n.active {\r\n  font-size: 16px;\r\n  color: #000;\r\n  font-weight: bold;\r\n}\r\n\r\n/deep/ .van-tab--active {\r\n  font-size: 16px;\r\n  color: #000;\r\n  font-weight: bold;\r\n}\r\n.hide {\r\n  display: none;\r\n}\r\n\r\n.search {\r\n  .nav {\r\n    position: fixed;\r\n    height: 35px;\r\n    top: 0px;\r\n    left: 0px;\r\n    right: 0px;\r\n    padding: 5px 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #fff;\r\n    overflow: hidden;\r\n    z-index: 99;\r\n    .search-box {\r\n      width: 280px;\r\n      margin: 0 10px;\r\n    }\r\n    .btn {\r\n      margin-left: auto;\r\n      font-size: 14px;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .hot-search {\r\n    padding-top: 50px;\r\n    .hot-search-box {\r\n      .title {\r\n        padding: 10px;\r\n        font-weight: bold;\r\n      }\r\n      .list {\r\n        padding: 5px 10px;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        .item {\r\n          padding: 5px 15px;\r\n          border-radius: 5px;\r\n          margin: 0 3px 8px;\r\n        }\r\n      }\r\n    }\r\n    .history-search-box {\r\n      padding: 10px;\r\n      .top {\r\n        display: flex;\r\n        align-items: center;\r\n        .title {\r\n          padding: 10px;\r\n          font-weight: bold;\r\n        }\r\n        .del {\r\n          width: 24px;\r\n          height: 24px;\r\n          margin-left: auto;\r\n        }\r\n      }\r\n      .list {\r\n        padding: 5px 10px;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        .item {\r\n          background-color: #ededed;\r\n          padding: 5px 15px;\r\n          border-radius: 5px;\r\n          margin: 5px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .suggests {\r\n    padding-top: 50px;\r\n    .item {\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 0 10px;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      border-bottom: 1px solid #ededed;\r\n      .tag {\r\n        height: 20px;\r\n        line-height: 20px;\r\n        margin-left: auto;\r\n        padding: 2px 10px;\r\n        border-radius: 20px;\r\n        border: 1px solid #fff;\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n  .search-detail {\r\n    padding: 50px 10px 0px;\r\n    /deep/ .van-tabs__line {\r\n      width: 20px;\r\n      background-color: #facc30;\r\n    }\r\n    .tabs-box {\r\n      display: flex;\r\n      .tabs {\r\n        width: 200px;\r\n      }\r\n      /deep/ .van-tabs__line {\r\n        width: 0;\r\n        height: 0;\r\n      }\r\n      .video-box {\r\n        padding: 10px;\r\n        margin-left: auto;\r\n        display: flex;\r\n        align-items: center;\r\n        .video-img {\r\n          margin-left: 5px;\r\n          width: 20px;\r\n          height: 20px;\r\n        }\r\n      }\r\n    }\r\n    .item {\r\n      display: flex;\r\n      margin-top: 20px;\r\n      margin-bottom: 20px;\r\n      height: 130px;\r\n      overflow: hidden;\r\n      align-items: center;\r\n      .left {\r\n        display: flex;\r\n        width: 50%;\r\n        border-radius: 5px;\r\n        overflow: hidden;\r\n        text-align: center;\r\n      }\r\n      .right {\r\n        width: 50%;\r\n        padding: 0 10px;\r\n        .name {\r\n          margin-top: 5px;\r\n          line-height: 24px;\r\n          text-overflow: ellipsis;\r\n          display: -webkit-box;\r\n          -webkit-line-clamp: 2;\r\n          -webkit-box-orient: vertical;\r\n          overflow: hidden;\r\n        }\r\n        .rate {\r\n          font-size: 14px;\r\n        }\r\n        .content-detail {\r\n          padding: 2px 3px;\r\n          margin: 10px 0;\r\n          width: 50px;\r\n          font-size: 12px;\r\n          background-color: #f1f1f1;\r\n        }\r\n        .user {\r\n          display: flex;\r\n          .userimg {\r\n            width: 20px;\r\n            height: 20px;\r\n            border-radius: 50%;\r\n            overflow: hidden;\r\n            margin-right: 5px;\r\n          }\r\n          .username {\r\n            color: #999;\r\n            font-size: 14px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .videoBox {\r\n    .userinfo {\r\n      display: flex;\r\n      padding: 10px;\r\n      align-items: center;\r\n      .headimg {\r\n        width: 35px;\r\n        height: 35px;\r\n        border-radius: 50%;\r\n        overflow: hidden;\r\n        background-color: red;\r\n      }\r\n      .name {\r\n        font-weight: bold;\r\n        margin: 0 5px;\r\n      }\r\n      .lv {\r\n        color: #facc30;\r\n        font-style: italic;\r\n      }\r\n    }\r\n    .video-box {\r\n      position: relative;\r\n      width: 100%;\r\n      .img-box {\r\n        position: absolute;\r\n        bottom: 10px;\r\n        right: 10px;\r\n        width: 40px;\r\n        height: 40px;\r\n      }\r\n    }\r\n    .title {\r\n      padding: 10px;\r\n      text-overflow: ellipsis;\r\n      display: -webkit-box;\r\n      -webkit-line-clamp: 2;\r\n      -webkit-box-orient: vertical;\r\n      overflow: hidden;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=cfe2430c&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=cfe2430c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cfe2430c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","back","attrs","getSuggestsData","model","value","callback","$$v","expression","getSearchData","_v","class","hide","ishide","_l","item","index","key","$event","getKeyword","name","_s","style","backgroundColor","tag","background_color","borderColor","border_color","color","text_color","directives","rawName","localSearchHistory","clearHotSearch","title","active","tabs","click","activeIndex","tabActive","isatcive","video","listItem","listindex","getDetail","r","id","img","n","rate","a","p","lvl","_m","staticRenderFns","data","order","type","offset","limit","keyword","hotSearchData","suggests","videoList","tab","list","isVideo","created","getHotSearch","$route","query","axios","method","url","then","result","catch","localStorage","getItem","JSON","parse","methods","$router","push","removeItem","i","length","splice","setItem","params","component"],"sourceRoot":""}