{"version":3,"file":"js/697-legacy.cce56cf2.js","mappings":"wJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,SAAW,MAAOP,EAAIQ,GAAIR,EAAU,QAAE,SAASS,EAAMC,GAAO,OAAON,EAAG,iBAAiB,CAACO,IAAID,GAAO,CAACN,EAAG,MAAM,CAACE,YAAY,WAAWC,MAAM,CAAC,IAAME,EAAMG,UAAS,IAAI,GAAGZ,EAAIQ,GAAIR,EAAiB,eAAE,SAASa,EAAKH,GAAO,OAAON,EAAG,MAAM,CAACO,IAAID,EAAMJ,YAAY,OAAOQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,UAAUH,EAAKI,EAAEC,OAAO,CAACd,EAAG,MAAM,CAACE,YAAY,WAAWQ,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOI,kBAAyBnB,EAAIoB,aAAaP,EAAKI,EAAEI,EAAEH,OAAO,CAACd,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWC,MAAM,CAAC,IAAMM,EAAKI,EAAEI,EAAEC,EAAE,IAAM,QAAQlB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIuB,GAAGvB,EAAIwB,GAAGX,EAAKI,EAAEI,EAAEI,MAAMrB,EAAG,MAAM,CAACE,YAAY,MAAM,CAACN,EAAIuB,GAAG,KAAKvB,EAAIwB,GAAGX,EAAKI,EAAEI,EAAEK,UAAUtB,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWC,MAAM,CAAC,IAAMM,EAAKI,EAAEU,IAAI,IAAM,QAAQvB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAIK,EAAKI,EAAe,eAAE,SAASU,EAAIjB,GAAO,OAAON,EAAG,MAAM,CAACO,IAAID,EAAMJ,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWC,MAAM,CAAC,IAAMoB,EAAIL,YAAWlB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACN,EAAIuB,GAAGvB,EAAIwB,GAAGX,EAAKI,EAAEW,wBAAwB,GAAGxB,EAAG,MAAM,CAACE,YAAY,QAAQQ,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOI,kBAAyBnB,EAAI6B,QAAQhB,EAAKI,EAAEC,GAAGR,MAAU,CAACN,EAAG,MAAM,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,EAAQ,MAA8B,IAAM,UAAUH,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIuB,GAAGvB,EAAIwB,GAAGX,EAAKI,EAAEQ,WAAUrB,EAAG,WAAW,CAACG,MAAM,CAAC,OAAS,MAAM,SAAWP,EAAI8B,SAAS,gBAAgB,SAAShB,GAAG,CAAC,KAAOd,EAAI+B,QAAQC,MAAM,CAACC,MAAOjC,EAAW,QAAEkC,SAAS,SAAUC,GAAMnC,EAAIoC,QAAQD,GAAKE,WAAW,YAAY,CAACjC,EAAG,SAAS,IAClzDkC,EAAkB,G,oBCgEtB,G,uBAAA,CACEC,KAAM,YACNC,KAFF,WAGI,MAAO,CACLtB,GAANA,GACMuB,OAAQ,GACRC,OAAQ,EACRC,MAAO,GACPjC,MAAO,EACPkC,WAANA,EACMC,cAAe,GACfT,SAAS,EACTN,UAAU,IAGdgB,QAfF,WAgBI7C,KAAK8C,WAGPC,QAAS,CACPjB,OADJ,WACA,WACM9B,KAAKyC,OAASzC,KAAKyC,OAAS,GAC5BO,YAAW,WACT,EAAR,OACUC,OAAQ,MACRC,IACV,oDACA,SACA,IACA,UAEAC,MAAA,YACU,EAAV,4BACU,EAAVC,KAAAA,OAAAA,KAAAA,SAAAA,SAAAA,GACA,YACc,EAAd,4BAIAC,OAAA,gBACQ,EAAR,aACA,MAGIP,QAzBJ,WAyBA,WACM9C,KAAKsD,MAAM,CACTL,OAAQ,MACRC,IACR,oDACA,YACA,IACA,aAEAC,MAAA,YACA,gBACU,EAAVC,KAAAA,OAAAA,KAAAA,SAAAA,SAAAA,GACA,YACc,EAAd,4BAKAC,OAAA,iBAGItC,UA9CJ,SA8CAE,GACMjB,KAAKuD,QAAQC,KAAK,CAAxBlB,KAAAA,SAAAmB,OAAAA,CAAAxC,GAAAA,MAGIW,QAlDJ,SAkDAX,EAAAR,GACM,IAAN,4CACM,GAAKT,KAAK0D,MAAMC,QAGd,GAAI3D,KAAK2C,UAAW,CAClB3C,KAAK2C,WAAY,EACjBiB,EAAWnD,GAAOoD,IAAMD,EAAQA,OAChC,eACA,IAAK,IAAIjD,EAAI,EAAGA,EAAIX,KAAK0D,MAAMI,KAAKC,OAAQpD,IACtCM,IAAOjB,KAAK0D,MAAMI,KAAKnD,IACzBX,KAAK0D,MAAMI,KAAKE,OAAOrD,EAAG,OAGxC,CACUX,KAAK2C,WAAY,EACjBiB,EAAWnD,GAAOoD,IAAMD,EAAQA,OAChC,eACA,IAASjD,EAAI,EAAGA,GAAKX,KAAK0D,MAAMI,KAAKC,OAAQpD,IAAK,CAChD,GAAIM,GAAMjB,KAAK0D,MAAMI,KAAKnD,GAAI,CAC5BX,KAAK0D,MAAMI,KAAKN,KAAKvC,GACrBgD,QAAQC,IAAIjD,GACZ,MAEIA,IAAOjB,KAAK0D,MAAMI,KAAKnD,IACzBX,KAAK0D,MAAMI,KAAKE,OAAOrD,EAAG,SAtBlCX,KAAKuD,QAAQC,KAAK,CAA1BlB,KAAAA,WA8BInB,aAnFJ,SAmFAF,GACMjB,KAAKuD,QAAQC,KAAK,CAAxBlB,KAAAA,aAAAmB,OAAAA,CAAAxC,GAAAA,SCxKqQ,I,UCQjQkD,GAAY,OACd,EACArE,EACAuC,GACA,EACA,KACA,WACA,MAIF,EAAe8B,EAAiB,S","sources":["webpack://douguo/./src/views/Recommend.vue?40bd","webpack://douguo/src/views/Recommend.vue","webpack://douguo/./src/views/Recommend.vue?d369","webpack://douguo/./src/views/Recommend.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recommend\"},[_c('div',{staticClass:\"swipe\"},[_c('van-swipe',{attrs:{\"autoplay\":3000}},_vm._l((_vm.images),function(image,index){return _c('van-swipe-item',{key:index},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":image.i}})])}),1)],1),_vm._l((_vm.recommendData),function(item,index){return _c('div',{key:index,staticClass:\"main\",on:{\"click\":function($event){return _vm.getDetail(item.r.id)}}},[_c('div',{staticClass:\"userInfo\",on:{\"click\":function($event){$event.stopPropagation();return _vm.goUserDetail(item.r.a.id)}}},[_c('div',{staticClass:\"head-img\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.r.a.p,\"alt\":\"\"}})]),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.r.a.n))]),_c('div',{staticClass:\"lv\"},[_vm._v(\"lv\"+_vm._s(item.r.a.lvl))])]),_c('div',{staticClass:\"banner\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.r.img,\"alt\":\"\"}})]),_c('div',{staticClass:\"collect-box\"},[_c('div',{staticClass:\"left\"},[_vm._l((item.r.collect_users),function(img,index){return _c('div',{key:index,staticClass:\"collect-users\"},[_c('div',{staticClass:\"item\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":img.p}})])])}),_c('div',{staticClass:\"collect-text\"},[_vm._v(_vm._s(item.r.collect_count_text))])],2),_c('div',{staticClass:\"right\",on:{\"click\":function($event){$event.stopPropagation();return _vm.goLogin(item.r.id,index)}}},[_c('img',{staticClass:\"auto-img collect-img\",attrs:{\"src\":require(\"../assets/icon/collect.png\"),\"alt\":\"\"}})])]),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.r.n))])])}),_c('van-list',{attrs:{\"offset\":\"100\",\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('br')])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 推荐 -->\r\n  <div class=\"recommend\">\r\n    <!-- 轮播图 -->\r\n    <div class=\"swipe\">\r\n      <van-swipe :autoplay=\"3000\">\r\n        <van-swipe-item v-for=\"(image, index) in images\" :key=\"index\">\r\n          <img class=\"auto-img\" :src=\"image.i\" />\r\n        </van-swipe-item>\r\n      </van-swipe>\r\n    </div>\r\n    <!-- 内容 -->\r\n    <div\r\n      class=\"main\"\r\n      v-for=\"(item, index) in recommendData\"\r\n      :key=\"index\"\r\n      @click=\"getDetail(item.r.id)\"\r\n    >\r\n      <div class=\"userInfo\" @click.stop=\"goUserDetail(item.r.a.id)\">\r\n        <div class=\"head-img\">\r\n          <img class=\"auto-img\" :src=\"item.r.a.p\" alt=\"\" />\r\n        </div>\r\n        <div class=\"name\">{{ item.r.a.n }}</div>\r\n        <div class=\"lv\">lv{{ item.r.a.lvl }}</div>\r\n      </div>\r\n      <div class=\"banner\">\r\n        <img class=\"auto-img\" :src=\"item.r.img\" alt=\"\" />\r\n      </div>\r\n      <div class=\"collect-box\">\r\n        <div class=\"left\">\r\n          <div\r\n            class=\"collect-users\"\r\n            v-for=\"(img, index) in item.r.collect_users\"\r\n            :key=\"index\"\r\n          >\r\n            <div class=\"item\"><img class=\"auto-img\" :src=\"img.p\" /></div>\r\n          </div>\r\n          <div class=\"collect-text\">{{ item.r.collect_count_text }}</div>\r\n        </div>\r\n        <div class=\"right\" @click.stop=\"goLogin(item.r.id,index)\">\r\n          <img\r\n            class=\"auto-img collect-img\"\r\n            src=\"../assets/icon/collect.png\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"name\">{{ item.r.n }}</div>\r\n    </div>\r\n    <!-- 加载 -->\r\n\r\n    <van-list\r\n      offset=\"100\"\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"onLoad\"\r\n    >\r\n      <br />\r\n    </van-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from 'vant'\r\nexport default {\r\n  name: 'Recommend',\r\n  data() {\r\n    return {\r\n      id:'',\r\n      images: [],\r\n      offset: 0,\r\n      limit: 10,\r\n      index: 0,\r\n      isCollect:false,\r\n      recommendData: [],\r\n      loading: false,\r\n      finished: false,\r\n    }\r\n  },\r\n  created() {\r\n    this.getData()\r\n  },\r\n\r\n  methods: {\r\n    onLoad() {\r\n      this.offset = this.offset + 10\r\n      setTimeout(() => {\r\n        this.axios({\r\n          method: 'get',\r\n          url:\r\n            'https://apis.netstart.cn/douguo/home/recommended/' +\r\n            this.offset +\r\n            '/' +\r\n            this.limit,\r\n        })\r\n          .then((result) => {\r\n            this.images = result.data.result.banner\r\n            result.data.result.list.forEach((e) => {\r\n              if (e.type === 1) {\r\n                this.recommendData.push(e)\r\n              }\r\n            })\r\n          })\r\n          .catch((err) => {})\r\n        this.loading = false\r\n      }, 1000)\r\n    },\r\n\r\n    getData() {\r\n      this.axios({\r\n        method: 'get',\r\n        url:\r\n          'https://apis.netstart.cn/douguo/home/recommended/' +\r\n          this.offset +\r\n          '/' +\r\n          this.limit,\r\n      })\r\n        .then((result) => {\r\n          if (result.status === 200) {\r\n            result.data.result.list.forEach((e) => {\r\n              if (e.type === 1) {\r\n                this.recommendData.push(e)\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((err) => {})\r\n    },\r\n\r\n    getDetail(id) {\r\n      this.$router.push({ name: 'Detail', params: { id } })\r\n    },\r\n\r\n    goLogin(id,index) {\r\n      let collectImg = document.querySelectorAll('.collect-img')\r\n      if (!this.$root.isLogin) {\r\n        this.$router.push({ name: 'Login' })\r\n      } else {\r\n        if (this.isCollect) {\r\n          this.isCollect = false\r\n          collectImg[index].src = require('../assets/icon/collect.png')\r\n          Toast('取消收藏')\r\n          for (var i = 0; i < this.$root.scjl.length; i++) {\r\n            if (id === this.$root.scjl[i]) {\r\n              this.$root.scjl.splice(i, 1)\r\n            }\r\n          }\r\n        } else {\r\n          this.isCollect = true\r\n          collectImg[index].src = require('../assets/icon/liangwujiaoxing.png')\r\n          Toast('收藏成功')\r\n          for (var i = 0; i <= this.$root.scjl.length; i++) {\r\n            if (id != this.$root.scjl[i]) {\r\n              this.$root.scjl.push(id);\r\n              console.log(id);  \r\n              break;\r\n            } else {\r\n              if (id === this.$root.scjl[i]) {\r\n                this.$root.scjl.splice(i, 1)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    goUserDetail(id) {\r\n      this.$router.push({ name: 'Userdetail', params: { id } })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.recommend {\r\n  width: 100%;\r\n  padding-top: 100px;\r\n  padding-bottom: 50px;\r\n  overflow: hidden;\r\n  // 轮播图\r\n  .swipe {\r\n    width: 100%;\r\n  }\r\n  // 内容\r\n  .main {\r\n    .userInfo {\r\n      padding: 20px 10px 10px;\r\n      display: flex;\r\n      align-items: center;\r\n      .head-img {\r\n        width: 35px;\r\n        height: 35px;\r\n        border-radius: 50%;\r\n        overflow: hidden;\r\n      }\r\n      .name {\r\n\t        font-weight: bold;\r\n      }\r\n      .lv {\r\n        font-style: italic;\r\n        color: #facc30;\r\n      }\r\n    }\r\n    .banner {\r\n      width: 100%;\r\n    }\r\n    .collect-box {\r\n      padding: 10px;\r\n      display: flex;\r\n      align-items: center;\r\n      .left {\r\n        padding: 10px;\r\n        display: flex;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n        .collect-users {\r\n          display: flex;\r\n          .item {\r\n\t\t\tbackground-color: #fff;\r\n            width: 20px;\r\n            height: 20px;\r\n            border-radius: 50%;\r\n            overflow: hidden;\r\n          }\r\n        }\r\n\t\t.collect-users:nth-child(1){\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\tz-index: 2;\r\n\t\t}\r\n\t\t.collect-users:nth-child(2){\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 13px;\r\n\t\t\tz-index: 3;\r\n\t\t}\r\n\t\t.collect-users:nth-child(3){\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 26px;\r\n\t\t\tz-index: 4;\r\n\t\t}\r\n\t\t.collect-users:nth-child(4){\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 39px;\r\n\t\t\tz-index: 5;\r\n\t\t}\r\n        .collect-text {\r\n\t\t  color: #999;\r\n          margin-left: 60px;\r\n        }\r\n      }\r\n      .right {\r\n        width: 25px;\r\n        height: 25px;\r\n        margin-left: auto;\r\n      }\r\n    }\r\n    .name {\r\n      padding: 0 10px;\r\n      text-overflow: ellipsis;\r\n      display: -webkit-box;\r\n      -webkit-line-clamp: 2;\r\n      -webkit-box-orient: vertical;\r\n      overflow: hidden;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Recommend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Recommend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Recommend.vue?vue&type=template&id=42a9f8d0&scoped=true&\"\nimport script from \"./Recommend.vue?vue&type=script&lang=js&\"\nexport * from \"./Recommend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Recommend.vue?vue&type=style&index=0&id=42a9f8d0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42a9f8d0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","image","index","key","i","item","on","$event","getDetail","r","id","stopPropagation","goUserDetail","a","p","_v","_s","n","lvl","img","collect_count_text","goLogin","finished","onLoad","model","value","callback","$$v","loading","expression","staticRenderFns","name","data","images","offset","limit","isCollect","recommendData","created","getData","methods","setTimeout","method","url","then","result","catch","axios","$router","push","params","$root","isLogin","collectImg","src","scjl","length","splice","console","log","component"],"sourceRoot":""}