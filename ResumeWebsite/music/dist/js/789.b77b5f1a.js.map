{"version":3,"file":"js/789.b77b5f1a.js","mappings":"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","sources":["webpack://project_music/./src/views/SearchView.vue?0c97","webpack://project_music/./src/components/SearchHots.vue?4d47","webpack://project_music/src/components/SearchHots.vue","webpack://project_music/./src/components/SearchHots.vue?958d","webpack://project_music/./src/components/SearchHots.vue","webpack://project_music/./src/components/SearchResult.vue?e643","webpack://project_music/src/components/SearchResult.vue","webpack://project_music/./src/components/SearchResult.vue?4a66","webpack://project_music/./src/components/SearchResult.vue","webpack://project_music/./src/components/SearchSuggest.vue?bf66","webpack://project_music/src/components/SearchSuggest.vue","webpack://project_music/./src/components/SearchSuggest.vue?8e47","webpack://project_music/./src/components/SearchSuggest.vue","webpack://project_music/src/views/SearchView.vue","webpack://project_music/./src/views/SearchView.vue?b584","webpack://project_music/./src/views/SearchView.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Search\"},[_c('div',{staticClass:\"searchInput\"},[_c('i',{staticClass:\"search-svg\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keywords),expression:\"keywords\"}],attrs:{\"type\":\"text\",\"placeholder\":\"搜索歌曲、歌手、专辑\"},domProps:{\"value\":(_vm.keywords)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.displayResult.apply(null, arguments)},\"input\":[function($event){if($event.target.composing){ return; }_vm.keywords=$event.target.value},function($event){$event.stopPropagation();return _vm.inputing.apply(null, arguments)}]}}),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.keywords.length>0),expression:\"keywords.length>0\"}],staticClass:\"search-clear\",on:{\"click\":function($event){$event.stopPropagation();_vm.keywords=''}}})]),_c('hr'),_c(_vm.componentName,{tag:\"component\",attrs:{\"keywords\":_vm.keywords},on:{\"searchWord\":_vm.searchWord,\"play\":function($event){return _vm.$emit('play',$event)},\"suggestWord\":_vm.suggestWord,\"historyWord\":_vm.historyWord}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-hot\"},[_c('h3',[_vm._v(\"热门搜索\")]),_c('ul',{staticClass:\"hot-list\"},_vm._l((_vm.hotSongs),function(word,index){return _c('li',{key:index,on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('searchWord',word.first)}}},[_vm._v(_vm._s(word.first))])}),0),_c('ol',{staticClass:\"search-history\"},[_c('li',_vm._l((_vm.historyArr),function(h){return _c('div',{key:h,staticClass:\"history-text\",on:{\"click\":function($event){$event.stopPropagation();return _vm.searchWord($event,h)}}},[_c('i',{staticClass:\"history-svg-1\"}),_vm._v(\" \"+_vm._s(h)+\" \"),_c('i',{staticClass:\"history-svg-2\",on:{\"click\":function($event){$event.stopPropagation();return _vm.clearHistory(h)}}})])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"search-hot\">\r\n   <h3>热门搜索</h3>\r\n  <ul class=\"hot-list\">\r\n   <li @click.stop=\"$emit('searchWord',word.first)\" v-for=\"(word,index)  in  hotSongs\" :key=\"index\">{{word.first}}</li>\r\n  </ul>\r\n  <ol class=\"search-history\">\r\n    <li>\r\n     <div v-for=\"h in historyArr\" :key=\"h\" class=\"history-text\" @click.stop=\"searchWord($event,h)\">\r\n       <i class=\"history-svg-1\"></i>\r\n       {{h}}\r\n       <i class=\"history-svg-2\" @click.stop=\"clearHistory(h)\"></i>\r\n     </div>\r\n    </li>\r\n  </ol>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props:{\r\n       keywords:{\r\n           type:String,\r\n           default:''\r\n       }\r\n  },\r\n data() {\r\n        return {\r\n          hotSongs:[],\r\n          historyArr:[]  \r\n        }\r\n    },\r\n    created(){\r\n    this.getHotSearch();\r\n    },methods: {\r\n        async getHotSearch(){\r\n        await this.axios.get('/search/hot').then(re=>{\r\n        this.hotSongs=re.result.hots\r\n        this.getHistory()\r\n        })\r\n    },\r\n    getHistory(){\r\n      let historyword=localStorage.getItem(\"searchhistory\");\r\n      if(historyword){\r\n       this.historyArr=JSON.parse(historyword);\r\n     }\r\n    },\r\n    searchWord(event,word){\r\n    this.$emit('searchWord',word);\r\n    },\r\n    clearHistory(word){\r\n     let historywords=localStorage.getItem(\"searchhistory\");\r\n     historywords=JSON.parse(historywords).filter(v=>{\r\n      return v!=word;\r\n     })\r\n     this.historyArr= historywords;\r\n    localStorage.setItem(\"searchhistory\",JSON.stringify(historywords));\r\n    }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.search-hot{\r\n   margin-top: 20px;\r\n   background-color: white;\r\n    h3{\r\n            font-size: 12px;\r\n            line-height: 12px;\r\n            color: #666;\r\n            display: block;\r\n            text-indent: 1rem;\r\n            \r\n      }\r\n    .hot-list{\r\n        margin-top: 10px;\r\n        margin-left: 5px;\r\n        li{\r\n        display: inline-block;\r\n        height: 32px;\r\n        margin-right: 8px;\r\n        margin-bottom: 8px;\r\n        padding: 0 12px;\r\n        font-size: 14px;\r\n        line-height: 32px;\r\n        color: #333;\r\n        border: 2px solid #eeeff2;\r\n        border-radius: 20px;\r\n         }\r\n        }\r\n        .search-history{\r\n              li{ \r\n                position: relative;\r\n              \r\n                height: 45px;\r\n                line-height: 45px;\r\n               \r\n                .history-text{\r\n        .history-svg-1{\r\n                   position: absolute;\r\n                   top: 50%;\r\n                   left: -20px;\r\n                   transform: translateY(-40%);\r\n                     width: 15px;\r\n                     height: 15px;\r\n                     background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMCAzMCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljYWNhIiBkPSJNMTUgMzBDNi43MTYgMzAgMCAyMy4yODQgMCAxNVM2LjcxNiAwIDE1IDBzMTUgNi43MTYgMTUgMTUtNi43MTYgMTUtMTUgMTVtMC0yOEM3LjgyIDIgMiA3LjgyIDIgMTVzNS44MiAxMyAxMyAxMyAxMy01LjgyIDEzLTEzUzIyLjE4IDIgMTUgMm03IDE2aC04YTEgMSAwIDAgMS0xLTFWN2ExIDEgMCAxIDEgMiAwdjloN2ExIDEgMCAxIDEgMCAyIi8+PC9zdmc+);\r\n               }\r\n                  font-size: 14px;\r\n                  margin-left: 30px;\r\n                   border-bottom: 1px solid #eff0f1;\r\n                   position: relative;\r\n                }\r\n                .history-svg-2{\r\n                  width: 12px;\r\n                  height: 12px;\r\n                  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjOTk5ODk5IiBkPSJNMTMuMzc5IDEybDEwLjMzOCAxMC4zMzdhLjk3NS45NzUgMCAxIDEtMS4zNzggMS4zNzlMMTIuMDAxIDEzLjM3OCAxLjY2MyAyMy43MTZhLjk3NC45NzQgMCAxIDEtMS4zNzgtMS4zNzlMMTAuNjIzIDEyIC4yODUgMS42NjJBLjk3NC45NzQgMCAxIDEgMS42NjMuMjg0bDEwLjMzOCAxMC4zMzhMMjIuMzM5LjI4NGEuOTc0Ljk3NCAwIDEgMSAxLjM3OCAxLjM3OEwxMy4zNzkgMTIiLz48L3N2Zz4=);\r\n                  position: absolute;\r\n                  top: 50%;\r\n                  right: 15px;\r\n                }\r\n              }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchHots.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchHots.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchHots.vue?vue&type=template&id=23c256f8&scoped=true&\"\nimport script from \"./SearchHots.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchHots.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchHots.vue?vue&type=style&index=0&id=23c256f8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23c256f8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-result\"},[_c('div',{staticClass:\"best-match\",on:{\"click\":function($event){$event.stopPropagation();_vm.isfull=true}}},[(_vm.bestMatch.length>0)?_c('span',{staticClass:\"best-title\"},[_vm._v(\"最佳匹配\")]):_vm._e(),_vm._l((_vm.bestMatch),function(b){return _c('div',{key:b.id,staticClass:\"best-gs\",on:{\"click\":function($event){$event.stopPropagation();return _vm.GetBestId(b.id)}}},[_c('img',{staticClass:\"best-tx\",attrs:{\"src\":b.picUrl,\"alt\":\"\"}}),_vm._v(\" 歌手: \"+_vm._s(b.name)+\" \"),_c('div',{staticClass:\"best-arr1\"})])}),_c('div',{staticClass:\"best-zj\"})],2),_vm._l((_vm.bestMatch),function(b){return _c('div',{key:b.id,staticClass:\"singer-view\"})}),(_vm.showList.length>0)?_c('music-list',{attrs:{\"musiclist\":_vm.showList},on:{\"play\":function($event){return _vm.$emit('play',$event)}}}):_c('load-animate'),_c('router-view'),_c('div',{ref:\"loadmore\",staticClass:\"loadmore\"},[_vm._v(_vm._s(_vm.page?'正在努力赶来ing...':\"没有更多啦(●'◡'●)\"))])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search-result\" >\r\n      <div class=\"best-match\" @click.stop=\"isfull=true\">\r\n      <span class=\"best-title\" v-if=\"bestMatch.length>0\">最佳匹配</span>\r\n      <div class=\"best-gs\" @click.stop=\"GetBestId(b.id)\" v-for=\"b in bestMatch\" :key=\"b.id\">\r\n          <img class=\"best-tx\" :src=\"b.picUrl\" alt=\"\">\r\n         歌手: {{b.name}}\r\n         <div class=\"best-arr1\"></div>\r\n         </div>\r\n      <div class=\"best-zj\"></div>\r\n      </div>\r\n      <div class=\"singer-view\" v-for=\"b in bestMatch\" :key=\"b.id\">\r\n     </div>\r\n      <music-list v-if=\"showList.length>0\" :musiclist=\"showList\" @play=\"$emit('play',$event)\"></music-list>\r\n     <load-animate v-else></load-animate>\r\n     <router-view></router-view>\r\n    <div class=\"loadmore\" ref='loadmore'>{{page?'正在努力赶来ing...':\"没有更多啦(●'◡'●)\"}}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MusicList from '@/components/MusicList.vue'\r\nimport LoadAnimate from '@/components/LoadAnimate.vue'\r\n\r\nexport default {\r\n    props:{\r\n    keywords:{\r\n        type:String,\r\n        default:''\r\n    }\r\n    },\r\ndata() {\r\n    return {\r\n       resultSongs:[],\r\n       bestMatch:[],\r\n       isfull:false,\r\n       page:1\r\n    }\r\n},\r\ncreated(){\r\n this.getSearchResult();\r\n this.getBestMatch();\r\n},\r\nmethods: {\r\n     windowScroll(){\r\n     let scrollTop=document.documentElement.scrollTop||document.body.scrollTop;\r\n     let loadMoreoffsetTop=this.$refs.loadmore.offsetTop;\r\n     let clientHeight=window.innerHeight;\r\n    //  console.log(scrollTop,loadMoreoffsetTop,clientHeight);\r\n     if(scrollTop+clientHeight>=loadMoreoffsetTop+33){\r\n       this.page++;\r\n     }\r\n   },\r\n    async getSearchResult(){\r\n        await this.axios.get(`/cloudsearch?keywords=${this.keywords}`).then(re=>{\r\n            this.resultSongs=re.result.songs.map(item=>{\r\n                item.song={\r\n                     alias:item.alia,\r\n                    artists:item.ar,\r\n                    album:item.al,\r\n                }\r\n                return item;\r\n            })   \r\n            // console.log(this.resultSongs);\r\n        })\r\n    },\r\n  async getBestMatch(){\r\n      this.setHistory();\r\n      await this.axios.get(`/search/multimatch?keywords=${this.keywords}`).then(re=>{\r\n            this.bestMatch=re.result.artist\r\n            // console.log('bestMatch=>>',this.bestMatch);\r\n     })\r\n  },\r\n  setHistory(){\r\n     if(!this.keywords||this.keywords==''||this.keywords.length<1){\r\n         return\r\n     }\r\n     let historys=localStorage.getItem(\"searchhistory\") ;\r\n     let historyArr=[];\r\n     if(historys){\r\n         historyArr=JSON.parse(historys);\r\n     }\r\n    historyArr.unshift(this.keywords);\r\n     let setArr=new Set(historyArr);\r\n       console.log(setArr);\r\n       historyArr=[...setArr]\r\n       localStorage.setItem(\"searchhistory\",JSON.stringify(historyArr))\r\n  },\r\n  GetBestId(id){\r\n    this.$router.push({\r\n         name:\"SingerView\",\r\n      params:{\r\n        id,\r\n      }\r\n    })\r\n  }   \r\n},\r\nmounted(){\r\n   window.addEventListener('scroll',this.windowScroll);\r\n},\r\ncomputed: {\r\n    showList(){\r\n     let end=this.page*20;\r\n       return this.resultSongs.slice(0,end);\r\n    }\r\n},\r\ncomponents:{\r\n    MusicList,\r\n    LoadAnimate,\r\n},\r\nbeforeDestroy(){\r\n   window.removeEventListener('scroll',this.windowScroll);\r\n },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-result {\r\n    .best-gs{\r\n        height: 60px;\r\n        display: flex;\r\n        line-height: 60px;\r\n        margin-top: 5px;\r\n        \r\n        position: relative;\r\n        .best-tx{\r\n           margin-left: 5px;\r\n           display: block; \r\n           padding-bottom: 5px;\r\n           padding-right: 10px;\r\n        }\r\n        .best-arr1{\r\n        width: 8px;\r\n        height: 13px;\r\n        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAyNiI+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOWI5YjliIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTIuOTM5IDIzLjkzOUwxMy44NzkgMTMgMi45MzkgMi4wNjEiLz48L3N2Zz4=);\r\n        background-repeat: no-repeat;\r\n        background-position: center center;\r\n         position: absolute;\r\n         top: 20px;\r\n         right: 15px;\r\n            }\r\n    }\r\n.best-match {\r\n    .best-title {\r\n    margin-left: 10px;\r\n    font-size: 12px;\r\n    line-height: 16px;\r\n    color: #666;\r\n        \r\n    }\r\n\r\n  }\r\n  .loadmore{\r\n   text-align: center;\r\n   font-size: 14px;\r\n   line-height: 40px;\r\n }\r\n}\r\n \r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchResult.vue?vue&type=template&id=260820e4&scoped=true&\"\nimport script from \"./SearchResult.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchResult.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchResult.vue?vue&type=style&index=0&id=260820e4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"260820e4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-suggest\"},[_c('h3',{staticClass:\"suggest-title\"},[_vm._v(\"搜索\\\"\"+_vm._s(_vm.keywords)+\"\\\"\")]),_c('div',{},[_c('ol',{staticClass:\"suggest-list\"},_vm._l((_vm.suggestSongs),function(item,index){return _c('li',{key:item+index},[_c('i',{staticClass:\"list-svg\"}),_c('div',{staticClass:\"list-text\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('suggestWord',item.keyword)}}},[_vm._v(_vm._s(item.keyword))])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search-suggest\">\r\n      <h3 class=\"suggest-title\">搜索\"{{keywords}}\"</h3>\r\n      <div class=\"\">\r\n      \r\n      <ol class=\"suggest-list\">        \r\n          <li v-for=\"(item,index) in suggestSongs\" :key=\"item+index\">\r\n              <i class=\"list-svg\"></i>\r\n              <div class=\"list-text\" @click.stop=\"$emit('suggestWord',item.keyword)\">{{item.keyword}}</div>\r\n          </li>\r\n      </ol>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nexport default {\r\n    props:{\r\n       keywords:{\r\n           type:String,\r\n           default:''\r\n       }\r\n    },\r\n    data() {\r\n        return {\r\n            suggestSongs:[]\r\n        }\r\n    },\r\ncreated(){\r\n    this.getSearchSuggest();\r\n},\r\nmethods: {\r\n    async getSearchSuggest(){\r\n        await this.axios.get(`/search/suggest?keywords=${this.keywords}&type=mobile`).then(re=>{\r\n            this.suggestSongs=re.result.allMatch\r\n            // console.log(this.suggestSongs);\r\n        })\r\n    }\r\n},\r\nwatch: {//监测keywords变化时,调用函数,获取提示\r\n       // 观察的对象+(){} 函数\r\n    keywords:_.debounce(function(){\r\n        this.getSearchSuggest();\r\n    },1000)\r\n    \r\n }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-suggest{\r\n .suggest-title{\r\n    height: 50px;\r\n    margin-left: 10px;\r\n    padding-right: 10px;\r\n    font-size: 15px;\r\n    line-height: 50px;\r\n    color: #507daf;\r\n    border-bottom: 1px solid #eff0f1;\r\n    font-weight: normal;\r\n  }\r\n  .suggest-list{\r\n   \r\n        li{\r\n             width: 100%;\r\n                height: 45px;\r\n                line-height: 45px;\r\n            position: relative;\r\n             .list-svg{\r\n                  position: absolute;\r\n                   top: 50%;\r\n                   left: 10px;\r\n                   transform: translateY(-40%);\r\n                     width: 15px;\r\n                     height: 15px;\r\n                  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMCAzMCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjMDQwMDAwIiBkPSJNMjguMTgxIDI3LjUzNWwtMS40MTQgMS40MTQtNy43NTUtNy43NTRBMTEuNDQ1IDExLjQ0NSAwIDAgMSAxMS41IDI0QzUuMTQ5IDI0IDAgMTguODUyIDAgMTIuNSAwIDYuMTQ5IDUuMTQ5IDEgMTEuNSAxIDE3Ljg1MiAxIDIzIDYuMTQ5IDIzIDEyLjVjMCAyLjc1Ni0uOTczIDUuMjg1LTIuNTg5IDcuMjY2bDcuNzcgNy43Njl6TTExLjUgM2E5LjUgOS41IDAgMSAwIDAgMTkgOS41IDkuNSAwIDAgMCAwLTE5eiIgb3BhY2l0eT0iLjMiLz48L3N2Zz4=);\r\n\r\n    }\r\n   \r\n        .list-text{\r\n                  width: 100%;\r\n                  font-size: 15px;\r\n                  margin-left: 30px;\r\n                   border-bottom: 1px solid #eff0f1;\r\n        }\r\n                    \r\n    }\r\n }\r\n}\r\n \r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchSuggest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchSuggest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchSuggest.vue?vue&type=template&id=5ef619a0&scoped=true&\"\nimport script from \"./SearchSuggest.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchSuggest.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchSuggest.vue?vue&type=style&index=0&id=5ef619a0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ef619a0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"Search\">\r\n   <div class=\"searchInput\">\r\n     <i class=\"search-svg\"></i>\r\n   <input type=\"text\" v-model=\"keywords\" @keydown.enter=\"displayResult\" @input.stop=\"inputing\" placeholder=\"搜索歌曲、歌手、专辑\">\r\n   <i class=\"search-clear\" v-show=\"keywords.length>0\" @click.stop=\"keywords=''\"></i>\r\n   </div>\r\n   <hr>\r\n   <!-- 动态组件 -->\r\n  <component @searchWord=\"searchWord\" :keywords='keywords' :is=\"componentName\" @play=\"$emit('play',$event)\" @suggestWord='suggestWord' @historyWord='historyWord'></component>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchHots from '@/components/SearchHots.vue'\r\nimport SearchResult from '@/components/SearchResult.vue'\r\nimport SearchSuggest from '@/components/SearchSuggest.vue'\r\nexport default {\r\n  data() {\r\n    return {\r\n    // 设置动态组件默认显示\r\n      componentName:\"SearchHots\",\r\n      keywords:'',\r\n      \r\n    }\r\n  },\r\n  components: { \r\n    SearchHots,SearchResult,SearchSuggest\r\n   },\r\n   methods: {\r\n     inputing(){\r\n    if(this.keywords!=''||this.keywords.length>0){\r\n      this.componentName=\"SearchSuggest\"\r\n    }else{\r\n      this.componentName=\"SearchHots\"\r\n    }\r\n     },\r\n     displayResult(){\r\n      this.componentName=\"SearchResult\"\r\n     },\r\n     searchWord(hotword){\r\n        this.keywords=hotword;\r\n        this.displayResult();\r\n     },\r\n     historyWord(hw){\r\n       this.keywords=hw;\r\n        this.displayResult();\r\n     },\r\n      suggestWord(sw){\r\n       this.keywords=sw;\r\n        this.displayResult();\r\n     }\r\n   },\r\n   watch: {\r\n      keywords:{\r\n       deep:true,\r\n       handler(){\r\n        this.inputing();\r\n       }\r\n      }\r\n   },  \r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.Search{\r\n    .searchInput{\r\n        position: relative;\r\n        height: 30px;\r\n        width: 90%;\r\n        padding-top: 15px 10px;\r\n        margin-left: 20px;\r\n        background-color: #ebecec;\r\n        border-radius: 15px;\r\n         .search-svg{\r\n        position: absolute;\r\n        left: 0;\r\n        top: 9px;\r\n        margin: 0 8px;\r\n        vertical-align: middle;\r\n        width: 13px;\r\n        height: 13px;\r\n        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==);\r\n      }\r\n        input{\r\n        height: 30px;\r\n        margin-top: 15px;\r\n        margin-left: 10%;\r\n        border: none;\r\n        outline: none;\r\n        background-color: transparent;\r\n        display: block;\r\n    }\r\n    .search-clear{\r\n      display: inline-block;\r\n      width: 14px;\r\n      height: 14px;\r\n    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCI+PGcgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjYmNiZGJkIiBkPSJNMTQgMGM3LjczMiAwIDE0IDYuMjY4IDE0IDE0cy02LjI2OCAxNC0xNCAxNFMwIDIxLjczMiAwIDE0IDYuMjY4IDAgMTQgMHoiLz48cGF0aCBkPSJNMTkgOUw5IDE5TTkgOWwxMCAxMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZWJlY2ViIiBzdHJva2Utd2lkdGg9IjIuNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIi8+PC9nPjwvc3ZnPg==);\r\n    position: absolute;\r\n    top: 8px;\r\n    right: 9px;\r\n    }\r\n    } \r\n      hr{\r\n        height: 1px;\r\n        border: none;\r\n      background-color: #eff0f1;\r\n    } \r\n }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchView.vue?vue&type=template&id=62b56676&scoped=true&\"\nimport script from \"./SearchView.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchView.vue?vue&type=style&index=0&id=62b56676&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62b56676\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","domProps","on","$event","type","indexOf","_k","keyCode","key","displayResult","apply","arguments","target","composing","keywords","stopPropagation","inputing","length","componentName","tag","searchWord","$emit","suggestWord","historyWord","staticRenderFns","_v","_l","word","index","first","_s","h","clearHistory","props","default","data","hotSongs","historyArr","getHotSearch","methods","getHistory","historyword","event","historywords","localStorage","component","isfull","bestMatch","_e","b","id","GetBestId","picUrl","showList","ref","page","resultSongs","created","async","item","alias","artists","album","setHistory","axios","get","then","re","console","params","mounted","window","computed","components","MusicList","LoadAnimate","beforeDestroy","keyword","suggestSongs","getSearchSuggest","watch","SearchHots","SearchSuggest","deep"],"sourceRoot":""}